<!--pages/food/food.wxml-->
<view class="food-wrapper">
  <!-- 标题 -->
  <view class="food-header">
    <view class="content-header-item {{itemStatusActiveFlag==true?'content-header-item-active':''}}" catchtap="changeItemStatusActiveFlag"
      data-flag="detail">
      菜品详情
    </view>
    <view class="content-header-item {{itemStatusActiveFlag==false?'content-header-item-active':''}}" catchtap="changeItemStatusActiveFlag"
      data-flag="ratings">
      评价列表
    </view>
  </view>
  <view class="food-content">
    <!-- 菜品详情 -->
    <view wx:if="{{itemStatusActiveFlag==true}}" class="img-wrapper">
      <!-- 基本信息 -->
      <view class="basic-info">
        <view class="img-wrapper">
          <image class="foodImg" src="{{foodInfo.foodSliders}}" style="width:100%;"></image>
        </view>
        <view class="food-info-wrapper">
          <view class="foodName">
            {{foodInfo.foodName}}
          </view>
          <view class="tag-wrapper">
            <view class="tag-item" wx:if="{{foodInfo.foodTags}}" wx:for="{{foodInfo.foodTags}}" wx:for-item="tagItem"
              wx:for-index="tagIndex" wx:key="tagIndex">
              {{tagItem.labelName}}
            </view>
          </view>
          <view class="price">
            <view class="price-real">
              <text style="font-size: 25rpx;">￥</text>{{foodInfo.foodPrice}}
            </view>
            <view wx:if="{{foodInfo.foodOriginal}}" class="price-original">
              <text style="font-size: 25rpx;">￥</text>{{foodInfo.foodOriginal}}
            </view>
          </view>
          <view class="merchant">
            <text class='iconfont icon-merchant' decode>&nbsp;</text>
            <view class="merchantName">
              {{foodInfo.merchantName}}
            </view>
          </view>
          <view wx:if="{{foodInfo.foodDesc}}" class="foodDes">
            {{foodInfo.foodDesc}}
          </view>
        </view>
      </view>
      <image class="foodImg" src="{{foodInfo.foodDetail}}" style="width:100%;" mode="widthFix"></image>
    </view>
    <!-- 评价列表 -->
    <view wx:else>
      <!--     <view class="ratingsContent" >
          <view class="btn {{btnFlag=='all'?'active':''}}" catchtap="changeBtnActiveFlag" data-flag="all">全部</view>
          <view class="btn {{btnFlag=='fivestar'?'active':''}}" catchtap="changeBtnActiveFlag" data-flag="advice">五星</view>
        </view>
        <view class="tab-wrapper" >
          <view class="tab">
            <text class="iconfont icon-gouxuan1" wx:if="{{!hasContentFlag}}" catchtap="changeHasContentFlag"></text>
            <text class="iconfont icon-gouxuan" wx:else catchtap="changeHasContentFlag"></text>
            <text class="tab-des" decode>&nbsp;有内容</text>
          </view>
          <view class="tab">
            <text class="iconfont icon-gouxuan1" wx:if="{{!hasImgFlag}}" catchtap="changeHasImgFlag"></text>
            <text class="iconfont icon-gouxuan" wx:else catchtap="changeHasImgFlag"></text>
            <text class="tab-des" decode>&nbsp;有图</text>
          </view>    
        </view> -->
      <scroll-view class="ratingsDetailList-wrapper c_scrollPosition_forCalculate" scroll-y style="height: {{windowHeight - scrollTop}}px;">
        <view wx:if="{{orderListNoResult}}" class="noResult" style="font-size:30rpx;color:#666;text-align: center;height: 80rpx;line-height: 80rpx;">
          未查询到评价记录..
        </view>
        <view wx:else>
          <view class="ratingsItem" wx:for="{{ratingsInfoList}}" wx:for-item="ratingItem" wx:for-index="ratingIndex"
            wx:key="ratingIndex">
            <view class="left">
              <image class="left-image" src="{{ratingItem.headImg}}"></image>
            </view>
            <view class="right">
              <view class="line1">
                <view class="user">
                  {{ratingItem.userNickName}}
                </view>
                <view class="time">
                  {{ratingItem.evaluateTime}}
                </view>
              </view>
              <view class="line2">
                <block wx:for="{{ratingItem.star}}" wx:key="index">
                  <text class='iconfont icon-xingxing' decode>&nbsp;</text>
                </block>
              </view>
              <view class="line3" wx:if="{{ratingItem.content}}">
                <text style="color:#666;">评价:</text>{{ratingItem.content}}
              </view>
              <view class="line3" wx:if="{{ratingItem.replyContent}}">
                <text style="color:#eee;">占位:</text><text style="color:#666;">回复:{{ratingItem.replyContent}}</text>
              </view>
              <view wx:if="{{ratingItem.images}}" style="margin:0 0 10rpx 10rpx;display: flex;width:100%;justify-content: flex-end;">
                <view class="img3" class="{{ratingItem.images.length==3?'img3':''}} {{ratingItem.images.length==2?'img2':''}} {{ratingItem.images.length==1?'img1':''}}" 
                  style="padding-right: 10rpx;box-sizing: border-box;" wx:for="{{ratingItem.images}}"
                  wx:for-index="imageIndex" wx:for-item="imageItem" wx:key="imageIndex">
                  <image class="swiper-img" mode="widthFix" src="{{imageItem}}"></image>
                </view>
              </view>
            </view>
          </view>
        </view>
      </scroll-view>
    </view>
  </view>





</view>